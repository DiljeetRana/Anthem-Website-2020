(function(e,t,n,r){"use strict";var i=function(s){this.$doc=n("body");this.options=n.extend(i.defaults,s);var o=this.options.namespace;if(this.options.skin===null){this.options.skin="default"}this.classes={skin:o+"_"+this.options.skin,trigger:o,animating:o+"_animating",show:o+"_show"};this.disabled=false;this.useMobile=false;this.isShow=false;var u=this;n.extend(u,{init:function(){u.transition=u.transition();u.build();if(u.options.target){if(typeof u.options.target==="number"){u.target=u.options.target}else if(typeof u.options.target==="string"){u.target=Math.floor(n(u.options.target).offset().top)}}else{u.target=0}u.$trigger.on("click.scrollToTop",function(){u.$doc.trigger("ScrollToTop::jump");return false});u.$doc.on("ScrollToTop::jump",function(){if(u.disabled){return}u.checkMobile();var t,r;if(u.useMobile){t=u.options.mobile.speed;r=u.options.mobile.easing}else{t=u.options.speed;r=u.options.easing}u.$doc.addClass(u.classes.animating);if(u.transition.supported){var i=n(e).scrollTop();u.$doc.css({"margin-top":-i+u.target+"px"});n(e).scrollTop(u.target);u.insertRule(".duration_"+t+"{"+u.transition.prefix+"transition-duration: "+t+"ms;}");u.$doc.addClass("easing_"+r+" duration_"+t).css({"margin-top":""}).one(u.transition.end,function(){u.$doc.removeClass(u.classes.animating+" easing_"+r+" duration_"+t)})}else{n("html, body").stop(true,false).animate({scrollTop:u.target},t,function(){u.$doc.removeClass(u.classes.animating)});return}}).on("ScrollToTop::show",function(){if(u.isShow){return}u.isShow=true;u.$trigger.addClass(u.classes.show)}).on("ScrollToTop::hide",function(){if(!u.isShow){return}u.isShow=false;u.$trigger.removeClass(u.classes.show)}).on("ScrollToTop::disable",function(){u.disabled=true;u.$doc.trigger("ScrollToTop::hide")}).on("ScrollToTop::enable",function(){u.disabled=false;u.toggle()});n(e).on("scroll",u._throttle(function(){if(u.disabled){return}u.toggle()},u.options.throttle));if(u.options.mobile){n(e).on("resize",u._throttle(function(){if(u.disabled){return}u.checkMobile()},u.options.throttle))}u.toggle()},checkMobile:function(){var t=n(e).width();if(t<u.options.mobile.width){u.useMobile=true}else{u.useMobile=false}},build:function(){if(u.options.trigger){u.$trigger=n(u.options.trigger)}else{u.$trigger=n('<a href="#" class="'+u.classes.trigger+" "+u.classes.skin+'">'+u.options.text+"</a>").appendTo(n("body"))}u.insertRule("."+u.classes.show+"{"+u.transition.prefix+"animation-duration: "+u.options.animationSpeed+"ms;"+u.transition.prefix+"animation-name: "+u.options.namespace+"_"+u.options.animation+";}");if(u.options.mobile){u.insertRule("@media (max-width: "+u.options.mobile.width+"px){."+u.classes.show+"{"+u.transition.prefix+"animation-duration: "+u.options.mobile.animationSpeed+"ms !important;"+u.transition.prefix+"animation-name: "+u.options.namespace+"_"+u.options.mobile.animation+"  !important;}}")}},can:function(){var t;if(u.useMobile){t=u.options.mobile.distance}else{t=u.options.distance}if(n(e).scrollTop()>t){return true}else{return false}},toggle:function(){if(u.can()){u.$doc.trigger("ScrollToTop::show")}else{u.$doc.trigger("ScrollToTop::hide")}},transition:function(){var n,i,s="",o=false,u=t.createElement("fakeelement"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(n in a){if(u.style[n]!==r){i=a[n];o=true;break}}if(/(WebKit)/i.test(e.navigator.userAgent)){s="-webkit-"}return{prefix:s,end:i,supported:o}},insertRule:function(e){if(u.rules&&u.rules[e]){return}else if(u.rules===r){u.rules={}}else{u.rules[e]=true}if(t.styleSheets&&t.styleSheets.length){t.styleSheets[0].insertRule(e,0)}else{var n=t.createElement("style");n.innerHTML=e;t.head.appendChild(n)}},_throttle:function(e,t){var n=Date.now||function(){return(new Date).getTime()};var r,i,s;var o=null;var u=0;var a=function(){u=n();o=null;s=e.apply(r,i);r=i=null};return function(){var f=n();var l=t-(f-u);r=this;i=arguments;if(l<=0){clearTimeout(o);o=null;u=f;s=e.apply(r,i);r=i=null}else if(!o){o=setTimeout(a,l)}return s}}});this.init()};i.defaults={distance:200,speed:1e3,easing:"linear",animation:"fade",animationSpeed:500,mobile:{width:768,distance:100,speed:1e3,easing:"easeInOutElastic",animation:"slide",animationSpeed:200},trigger:null,target:null,text:"Scroll To Top",skin:null,throttle:250,namespace:"scrollToTop"};i.prototype={constructor:i,jump:function(){this.$doc.trigger("ScrollToTop::jump")},disable:function(){this.$doc.trigger("ScrollToTop::disable")},enable:function(){this.$doc.trigger("ScrollToTop::enable")},destroy:function(){this.$trigger.remove();this.$doc.data("ScrollToTop",null);this.$doc.off("ScrollToTop::enable").off("ScrollToTop::disable").off("ScrollToTop::jump").off("ScrollToTop::show").off("ScrollToTop::hide")}};n.fn.scrollToTop=function(e){if(typeof e==="string"){var t=e;var s=arguments.length>1?Array.prototype.slice.call(arguments,1):r;return this.each(function(){var e=n.data(this,"scrollToTop");if(e&&typeof e[t]==="function"){e[t].apply(e,s)}})}else{return this.each(function(){var t=n.data(this,"scrollToTop");if(!t){t=new i(e);n.data(this,"scrollToTop",t)}})}}})(window,document,jQuery)